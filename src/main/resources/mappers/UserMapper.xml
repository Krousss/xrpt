<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.xrpt.demo.dao.UserDao">

    <resultMap type="com.xrpt.demo.entity.User" id="ResultMapUser">
        <id column="t_uid" property="uid" jdbcType="INTEGER" />
        <result column="t_phone" property="phone" jdbcType="VARCHAR" />
        <result column="t_password" property="password" jdbcType="VARCHAR" />
        <result column="t_name" property="uname" jdbcType="VARCHAR" />
        <result column="t_credit" property="credit" jdbcType="INTEGER" />
        <result column="t_state" property="state" jdbcType="INTEGER" />
        <result column="t_real" property="real" jdbcType="VARCHAR" />

    </resultMap>

    <select id="queryAllUser" resultMap="ResultMapUser">
        select * from tab_user
    </select>

    <select id="userLogin" resultMap="ResultMapUser">
        select * from tab_user where t_phone = #{phone} and t_password = #{password}
    </select>

    <insert id="userRegister" parameterType="com.xrpt.demo.entity.User">
        INSERT INTO tab_user (t_phone,t_password,t_name,t_credit,t_state,t_real) VALUES (#{phone},#{password},#{uname},90,1,"url")
    </insert>
</mapper>