<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="asserts/js/jquery-3.4.1.min.js"></script>
		<link rel="stylesheet" href="asserts/css/bootstrap.min.css" />
		<link rel="stylesheet" href="asserts/css/main/header.css" />
		<link rel="stylesheet" href="asserts/css/main/footer.css" />
		<link rel="stylesheet" type="text/css" href="asserts/css/main/life/life.css" />
		<script type="text/javascript" src="asserts/js/bootstrap.min.js"></script>

	</head>

	<body>
		<!--
        	作者：offline
        	时间：2020-07-11
        	描述：顶部栏
        -->
		<div class="page_top">
			<a href="toIndex"><img src="asserts/img/logo.png" /></a>
			<div class="dropdown" id="logAndReg_div">
				<h4 class="btn btn-default btn-lg dropdown-toggle" id="user_menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
					欢迎：XXXXXXXXXXXXX
					<span class="caret"></span>
				</h4>
				<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="user_menu">
					<li>
						<a href="toUserCenter">个人中心</a>
					</li>
					<li>
						<a href="toIndex">返回首页</a>
					</li>
					<li>
						<a href="#">退出登录</a>
					</li>
					<li role="separator" class="divider"></li>
					<li>
						<a href="#">用户须知与服务协议</a>
					</li>
				</ul>
			</div>

			<!--
            	作者：offline
            	时间：2020-07-15
            	描述：标签页
            -->
			<div class="main_panel">


					<!-- Nav tabs -->
					<ul class="nav nav-tabs" role="tablist" id="nav_tabs">
						<li role="presentation" class="active">
							<a href="#daily" aria-controls="daily" role="tab" data-toggle="tab">每日推荐</a>
						</li>
						<li role="presentation">
							<a href="#favorite" aria-controls="favorite" role="tab" data-toggle="tab">收藏</a>
						</li>

					</ul>

					<!-- Tab panes -->
					<div class="tab-content">
						<div role="tabpanel" class="tab-pane active" id="daily">
							<!--
                            	作者：offline
                            	时间：2020-07-15
                            	描述：第一页
                            -->
							<hr />
							<!--
                    	作者：offline
                    	时间：2020-07-12
                    	描述：搜索栏
                   -->
							<div class="order_selector">
								<form class="form-inline" action="search" method="post">
									<div class="form-group">
										<label for="search">学做点</label>
										<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
										<input type="text" class="form-control" id="search" name="query" placeholder="感兴趣的菜谱">
									</div>
									<div class="form-group">
										<button type="submit" class="btn btn-default">搜索</button>
									</div>
								</form>
							</div>
							<hr />
							<div class="cookbook"th:id="${cookbook.getUrl()}" data-toggle="modal" data-target="#myModal"  th:each="cookbook:${cookbooks}" onclick="showModal(this)" >
								<img th:src="${cookbook.imgurl}"/>
								<h4 th:text="${cookbook.getName()}"></h4>
							</div>


							<!--
                            	作者：offline
                            	时间：2020-07-15
                            	描述：菜谱详情模态框
                            -->
							<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
								<div class="modal-dialog modal-lg" role="document">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
											<h4 class="modal-title" id="myModalLabel">菜谱详情</h4>
										</div>
										<div class="modal-body">


										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
											<button type="button" class="btn btn-primary">收藏</button>
										</div>
									</div>
								</div>
							</div>

						</div>
						<div role="tabpanel" class="tab-pane" id="favorite">2</div>
					</div>


			</div>
		</div>
	</body>
	<script type="text/javascript">
		ctxPath = '[[@{/}]]';
		function showModal(id) {

			$.ajax({
				type:"post",
				url:ctxPath+"cookbook_detail",
				data:{
					id:$(id).attr('id'),
				},
				dataType:"text",
				async:false,
				success:function (data) {
					$(".modal-body").html(data);
				},
				error:function (e) {
					console.log(e);
				}
			}) ;
		}

	</script>
</html>